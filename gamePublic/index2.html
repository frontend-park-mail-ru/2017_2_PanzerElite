<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Cube</title>
    <style>
        body {
            text-align: center;
        }
        
        canvas {
            color: white;
            width: 100%;
            height: 100%;
            border: 1px solid white;
        }
    </style>
</head>

<body>
    <h1>Liquid Three.js Cube</h1>
    <p>Change the browser's window size.</p>
    <script src="three.min.js"></script>
    <script src="TrackballControls.js"></script>
    <script src="./collada.js"></script>
    <!-- Get the latest version of the Three.js library. -->
    <script>
        var scene,
            camera,
            renderer,
            controls;

        scene = new THREE.Scene();

        camera = new THREE.PerspectiveCamera(10, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.set(-5, 12, 10);
        camera.lookAt(scene.position);
        renderer = new THREE.WebGLRenderer({
            alpha: true,
            antialias: true
        });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(
            renderer.domElement);
        ///////////////////////////////////////// // Trackball Controller ///////////////////////////////////////// 
        controls = new THREE.TrackballControls(camera);
        controls.rotateSpeed = 5.0;
        controls.zoomSpeed = 3.2;
        controls.panSpeed = 0.8;
        controls.noZoom = false;
        controls.noPan = true;
        controls.staticMoving = false;
        controls.dynamicDampingFactor = 0.2;
        ///////////////////////////////////////// // Lighting ///////////////////////////////////////// 
        var iphone_color = '#FAFAFA',
            ambientLight = new THREE.AmbientLight('#EEEEEE'),
            hemiLight = new THREE.HemisphereLight(iphone_color, iphone_color, 0),
            light = new THREE.PointLight(iphone_color, 1, 100);
        hemiLight.position.set(0, 50, 0);
        light.position.set(0, 20, 10);
        scene.add(ambientLight);
        scene.add(hemiLight);
        scene.add(light);
        ///////////////////////////////////////// // Utilities ///////////////////////////////////////// 
        var axisHelper = new THREE.AxisHelper(1.25);
        scene.add(axisHelper);

        function renderPhone() {
            renderer.render(scene, camera);
        }
        controls.addEventListener('change', renderPhone); // Avoid constantly rendering the scene by only // updating the controls every requestAnimationFrame 
        function animationLoop() {
            requestAnimationFrame(animationLoop);
            controls.update();
        }
        animationLoop(); ///////////////////////////////////////// // Window Resizing ///////////////////////////////////////// 
        window.addEventListener('resize', function() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            controls.handleResize();
            renderPhone();
        }, false); ///////////////////////////////////////// // Object Loader ///////////////////////////////////////// 
        var dae, loader = new THREE.ColladaLoader();

        function loadCollada(collada) {
            dae = collada.scene;
            dae.position.set(0.4, 0, 0.8);
            scene.add(dae);
            renderPhone();
        }
        loader.options.convertUpAxis = true;
        loader.load('model.dae', loadCollada);
    </script>
</body>

</html>